<?xml version="1.0"?>
<launch>
  
  <!-- Launch gazebo world -->
  <include file="$(find wheeltec_basics)/launch/gazebo.launch" />

  <arg name="namespace" default="robot_1" />

  <group ns="$(arg namespace)">

    <arg name="robot_type" default="wheeltec"/>

    <group if="$(eval arg('robot_type') == 'wheeltec')">
      <include file="$(find wheeltec_basics)/launch/wheeltec.launch">
        <arg name="namespace" value="$(arg namespace)" />
      </include>
    </group>

    <group if="$(eval arg('robot_type') == 'articubot')">
      <include file="$(find wheeltec_basics)/launch/articubot.launch" />
    </group>
      
    <!-- Spawn a robot into Gazebo -->
    <!-- <node name="spawn_urdf" pkg="gazebo_ros" type="spawn_model" 
      args="-param robot_description -urdf -model $(arg namespace) -x -0.3 -y 0.5 -Y 0.6" /> -->
    <node name="spawn_urdf" pkg="gazebo_ros" type="spawn_model" 
      args="-param robot_description -urdf -model $(arg namespace) -x -1.0 -y 1.0 -Y 0.6" />

    <!-- SLAM -->
    <include file="$(find wheeltec_basics)/launch/slam.launch">
      <arg name="namespace" value="$(arg namespace)" />
    </include>

    <!-- Navigation -->
    <include file="$(find wheeltec_basics)/launch/navigation.launch">
      <arg name="namespace" value="$(arg namespace)" />
    </include>
  
  </group>

</launch>
